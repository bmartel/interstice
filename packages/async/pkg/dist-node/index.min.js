"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var litElement=require("lit-element");class AsyncElement extends litElement.LitElement{constructor(){super(),this.deps=[]}firstUpdated(){this.setup()}update(e){return this.deps.some(t=>e.has(t))&&this.reload(),super.update(e)}setup(){this._loadedPromise||this.reload()}loader(){this._loaded=null,this._errored=null,this._loadedPromise=new Promise((e,t)=>{this._resolveLoaded=e,this._rejectLoaded=t}),this._loadedPromise.then(e=>(this._loaded=(()=>e),this.requestUpdate(),e)).catch(e=>{this._errored=e,this.requestUpdate()})}reload(){this.loader(),this.resolve()}loaded(){return this._loaded}errored(){return this._errored?this.erroring(this._errored):null}async resolve(){try{const e=await this.asyncRender();return this._resolveLoaded(e),e}catch(e){return this._rejectLoaded(e),null}}erroring(e){return litElement.html``}loading(){return litElement.html``}asyncRender(){return Promise.reject("Must implement asyncRender() in child components")}render(){const e=this.loaded();if(e)return e();const t=this.errored();return t||this.loading()}}exports.AsyncElement=AsyncElement;
//# sourceMappingURL=index.min.js.map