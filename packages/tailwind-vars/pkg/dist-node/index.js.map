{"version":3,"file":"index.js","sources":["../dist-src/convert.js","../dist-src/css.js","../dist-src/index.js"],"sourcesContent":["import _ from 'lodash';\nimport tailwindConfig from 'tailwindcss/defaultConfig';\nimport resolveConfig from 'tailwindcss/resolveConfig';\nexport const convert = (customVariableNames = {}, opts = {}) => {\n  const varModules = {\n    colors: 'color',\n    screens: '',\n    fontFamily: 'font',\n    fontSize: 'text',\n    fontWeight: 'font',\n    lineHeight: 'leading',\n    letterSpacing: 'tracking',\n    backgroundSize: 'bg',\n    borderWidth: 'border',\n    borderRadius: 'round',\n    width: 'w',\n    height: 'h',\n    minWidth: 'min-w',\n    minHeight: 'min-h',\n    maxWidth: 'max-w',\n    maxHeight: 'max-h',\n    padding: 'p',\n    margin: 'm',\n    boxShadow: 'shadow',\n    zIndex: 'z',\n    opacity: 'opacity',\n    transition: 'transition',\n    ...customVariableNames\n  };\n  const options = {\n    namespace: '',\n    tailwind: tailwindConfig,\n    components: {},\n    componentsDark: {},\n    postcssEachVariables: false,\n    ...opts\n  };\n  const overrideConfig = resolveConfig(options.tailwind);\n\n  const config = keyPath => _.get(overrideConfig, keyPath) || {};\n\n  const rootObj = {};\n  Object.keys(varModules).forEach(key => {\n    if (key === 'colors' && varModules.colors || key === 'screens' && varModules.screens !== false || varModules[key]) {\n      const keyValue = config(`theme.${key}`);\n      const names = Object.keys(keyValue);\n      const modulePrefix = varModules[key];\n\n      if (options.postcssEachVariables) {\n        const selectedKey = ['colors', 'screens', 'fontFamily', 'fontSize'];\n\n        if (selectedKey.includes(key)) {\n          if (key === 'colors') {\n            const colorsArr = [];\n            names.forEach(colorName => {\n              const colorObj = keyValue[colorName];\n\n              if (_.isObject(colorObj)) {\n                Object.keys(colorObj).forEach(level => {\n                  const fullColorName = `${colorName}-${level}`;\n                  colorsArr.push(fullColorName);\n                });\n              } else {\n                colorsArr.push(colorName);\n              }\n            });\n            const varName = `--${options.namespace !== '' ? `${options.namespace}-` : ''}${key !== '' ? key : ''}`;\n            rootObj[varName] = colorsArr.toString();\n          } else {\n            const varName = `--${options.namespace !== '' ? `${options.namespace}-` : ''}${key !== '' ? key : ''}`;\n            rootObj[varName] = names.toString();\n          }\n        }\n      }\n\n      names.forEach(name => {\n        let varName;\n        let value;\n\n        if (key === 'colors' && _.isObject(keyValue[name])) {\n          const colorObj = keyValue[name];\n          Object.keys(colorObj).forEach(colorKey => {\n            varName = `--${options.namespace !== '' ? `${options.namespace}-` : ''}${modulePrefix !== '' ? `${modulePrefix}-` : ''}${name}-${colorKey}`.replace(/-default$/, '');\n            value = typeof keyValue[name][colorKey] === 'string' ? keyValue[name][colorKey] : keyValue[name][colorKey].toString();\n            rootObj[varName] = value;\n          });\n        } else if (key === 'screens' && _.isObject(keyValue[name])) {\n          const minWEntries = Object.entries(keyValue[name]).filter(e => e[0] === 'min');\n          minWEntries.forEach(([, screenValue]) => {\n            varName = `--${options.namespace !== '' ? `${options.namespace}-` : ''}${modulePrefix !== '' ? `${modulePrefix}-` : ''}${name.replace('/', '-')}`.replace(/-default$/, '');\n            rootObj[varName] = screenValue.toString();\n          });\n        } else {\n          varName = `--${options.namespace !== '' ? `${options.namespace}-` : ''}${modulePrefix !== '' ? `${modulePrefix}-` : ''}${name.replace('/', '-')}`.replace(/-default$/, '');\n          value = typeof keyValue[name] === 'string' ? keyValue[name] : keyValue[name].toString();\n          rootObj[varName] = value;\n        }\n      });\n    }\n  });\n  return `:root {\\n${_.map(rootObj, (value, key) => `  ${key}: ${value};`).join('\\n')}\\n}\\n\\nbody {\\n${_.map(options.components, (value, key) => `  --${options.namespace !== '' ? `${options.namespace}-` : ''}${key}: var(--${options.namespace !== '' ? `${options.namespace}-` : ''}${value});`).join('\\n')}\\n}\\n\\nbody.dark {\\n${_.map(options.componentsDark, (value, key) => `  --${options.namespace !== '' ? `${options.namespace}-` : ''}${key}: var(--${options.namespace !== '' ? `${options.namespace}-` : ''}${value});`).join('\\n')}\\n}`;\n};","import fs from 'fs';\nimport path from 'path';\nimport { convert } from './convert.js';\nconst moduleNamesOverride = {};\nconst config = {\n  namespace: '',\n  tailwind: {\n    theme: {\n      extend: {},\n      transition: {\n        all: '0.2s all ease-in-out',\n        opacity: '0.2s opacity ease-in-out',\n        color: '0.2s color ease-in-out',\n        shadow: '0.2s box-shadow ease-in-out',\n        border: '0.2s border ease-in-out',\n        bg: '0.2s background ease-in-out'\n      }\n    }\n  },\n  components: {\n    'font-size': 'text-base',\n    'font-family': 'font-sans',\n    leading: 'leading-normal',\n    margin: 'm-3',\n    'margin-top': 'm-3',\n    'margin-right': 'm-3',\n    'margin-bottom': 'm-3',\n    'margin-left': 'm-3',\n    padding: 'p-3',\n    gap: 'p-1',\n    'padding-top': 'p-3',\n    'padding-right': 'p-3',\n    'padding-bottom': 'p-3',\n    'padding-left': 'p-3',\n    'border-size': 'border',\n    'border-color': 'color-gray-500',\n    'outline-size': 'border-2',\n    'background-color': 'color-white',\n    color: 'color-black',\n    'color-primary': 'color-purple-600',\n    'color-accent': 'color-teal-600',\n    'color-success': 'color-green-600',\n    'color-error': 'color-red-600',\n    'label-color': 'color-gray-800',\n    'label-size': 'text-base',\n    'input-color': 'color-gray-900',\n    'input-background-color': 'color-white',\n    'input-placeholder-color': 'color-gray-600',\n    'message-size': 'text-sm',\n    transition: 'transition-all'\n  },\n  componentsDark: {\n    'background-color': 'color-black',\n    color: 'color-white',\n    'label-color': 'color-gray-100',\n    'message-color': 'color-gray-300',\n    'input-color': 'color-white',\n    'input-background-color': 'color-gray-900'\n  }\n};\nexport const generate = async (opts = {}) => {\n  const options = {\n    moduleNamesOverride: { ...moduleNamesOverride,\n      ...(opts.moduleNamesOverride || {})\n    },\n    config,\n    output: path.resolve(__dirname, '..', '..', '..', '..', 'vars.css'),\n    ...opts\n  };\n  await fs.writeFile(options.output, convert(options.moduleNamesOverride, options.config), () => {});\n};","import yargs from 'yargs-parser';\nimport { generate } from './css.js';\nexport { generate };\nexport const run = async args => {\n  await generate(yargs(args.slice(2)));\n};"],"names":["convert","customVariableNames","opts","varModules","colors","screens","fontFamily","fontSize","fontWeight","lineHeight","letterSpacing","backgroundSize","borderWidth","borderRadius","width","height","minWidth","minHeight","maxWidth","maxHeight","padding","margin","boxShadow","zIndex","opacity","transition","options","namespace","tailwind","tailwindConfig","components","componentsDark","postcssEachVariables","overrideConfig","resolveConfig","config","keyPath","_","get","rootObj","Object","keys","forEach","key","keyValue","names","modulePrefix","selectedKey","includes","colorsArr","colorName","colorObj","isObject","level","fullColorName","push","varName","toString","name","value","colorKey","replace","minWEntries","entries","filter","e","screenValue","map","join","moduleNamesOverride","theme","extend","all","color","shadow","border","bg","leading","gap","generate","output","path","resolve","__dirname","fs","writeFile","run","args","yargs","slice"],"mappings":"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"}